{"ast":null,"code":"import{ADD_TO_FAVORITE}from\"./actions\";import produce from'immer';var initialState={favorite:JSON.parse(localStorage.getItem(\"favorite\"))||[],isFavorite:false};var favoriteReducer=function favoriteReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_FAVORITE:{return produce(state,function(draftState){var article=action.payload;if(draftState.favorite.includes(article)){var index=draftState.favorite.indexOf(article);draftState.favorite.splice(index,1);}else{draftState.favorite.push(article);}draftState.isFavorite=!draftState.isFavorite;localStorage.setItem('favorite',JSON.stringify(draftState.favorite));});}default:{return state;}}};export default favoriteReducer;","map":{"version":3,"names":["ADD_TO_FAVORITE","produce","initialState","favorite","JSON","parse","localStorage","getItem","isFavorite","favoriteReducer","state","action","type","draftState","article","payload","includes","index","indexOf","splice","push","setItem","stringify"],"sources":["/Users/romarumarchyk/Desktop/MyGitLabHW/react-redux/src/store/favorite/favoriteReducer.js"],"sourcesContent":["import { ADD_TO_FAVORITE } from \"./actions\";\n\nimport produce from 'immer';\n\n\nconst initialState = {\n    favorite: JSON.parse(localStorage.getItem(\"favorite\")) || [],\n    isFavorite: false,\n}\n\nconst favoriteReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case ADD_TO_FAVORITE: {\n\n            return produce(state, draftState => {\n\n                const article = action.payload\n\n                if (draftState.favorite.includes(article)) {\n\n                    const index = draftState.favorite.indexOf(article);\n                    draftState.favorite.splice(index, 1);\n\n                } else {\n\n                    draftState.favorite.push(article);\n\n                }\n\n                draftState.isFavorite = !draftState.isFavorite\n                localStorage.setItem('favorite', JSON.stringify(draftState.favorite));\n            })\n\n        }\n\n        default: {\n\n            return state\n\n        }\n    }\n}\n\nexport default favoriteReducer"],"mappings":"AAAA,OAASA,eAAT,KAAgC,WAAhC,CAEA,MAAOC,QAAP,KAAoB,OAApB,CAGA,GAAMC,aAAY,CAAG,CACjBC,QAAQ,CAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,GAAgD,EADzC,CAEjBC,UAAU,CAAE,KAFK,CAArB,CAKA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAkC,IAAjCC,MAAiC,2DAAzBR,YAAyB,IAAXS,OAAW,2CAEtD,OAAQA,MAAM,CAACC,IAAf,EAEI,IAAKZ,gBAAL,CAAsB,CAElB,MAAOC,QAAO,CAACS,KAAD,CAAQ,SAAAG,UAAU,CAAI,CAEhC,GAAMC,QAAO,CAAGH,MAAM,CAACI,OAAvB,CAEA,GAAIF,UAAU,CAACV,QAAX,CAAoBa,QAApB,CAA6BF,OAA7B,CAAJ,CAA2C,CAEvC,GAAMG,MAAK,CAAGJ,UAAU,CAACV,QAAX,CAAoBe,OAApB,CAA4BJ,OAA5B,CAAd,CACAD,UAAU,CAACV,QAAX,CAAoBgB,MAApB,CAA2BF,KAA3B,CAAkC,CAAlC,EAEH,CALD,IAKO,CAEHJ,UAAU,CAACV,QAAX,CAAoBiB,IAApB,CAAyBN,OAAzB,EAEH,CAEDD,UAAU,CAACL,UAAX,CAAwB,CAACK,UAAU,CAACL,UAApC,CACAF,YAAY,CAACe,OAAb,CAAqB,UAArB,CAAiCjB,IAAI,CAACkB,SAAL,CAAeT,UAAU,CAACV,QAA1B,CAAjC,EACH,CAjBa,CAAd,CAmBH,CAED,QAAS,CAEL,MAAOO,MAAP,CAEH,CA7BL,CA+BH,CAjCD,CAmCA,cAAeD,gBAAf"},"metadata":{},"sourceType":"module"}